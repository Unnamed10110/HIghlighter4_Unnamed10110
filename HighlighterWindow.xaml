<Window x:Class="Highlighter4.HighlighterWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Highlighter"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ShowInTaskbar="False"
        WindowState="Maximized"
        KeyDown="Window_KeyDown"
        MouseDown="Window_MouseDown"
        MouseUp="Window_MouseUp"
        MouseMove="Window_MouseMove"
        MouseWheel="Window_MouseWheel">
    
    <Grid>
        <!-- Black semi-transparent overlay -->
        <Rectangle Name="OverlayBackground" 
                   Fill="Black" 
                   Opacity="0.6"
                   MouseDown="Window_MouseDown"
                   MouseUp="Window_MouseUp"
                   MouseMove="Window_MouseMove"/>
        
        <!-- Main canvas for drawing -->
        <Canvas Name="MainCanvas" Background="Transparent" IsHitTestVisible="False">
            <!-- RichTextBox for text editing -->
            <RichTextBox Name="TextEditor" 
                        Visibility="Collapsed"
                        Background="Black"
                        Foreground="White"
                        BorderThickness="1"
                        BorderBrush="Gray"
                        Padding="10"
                        FontFamily="Arial"
                        FontSize="12"
                        AcceptsReturn="True"
                        AcceptsTab="True"
                        VerticalScrollBarVisibility="Auto"
                        HorizontalScrollBarVisibility="Auto"
                        KeyDown="TextEditor_KeyDown"/>
            
            <!-- RichTextBox for zoom mode -->
            <RichTextBox Name="ZoomTextEditor" 
                        Visibility="Collapsed"
                        Background="Black"
                        Foreground="White"
                        BorderThickness="0"
                        Padding="10"
                        FontFamily="Arial"
                        FontSize="16"
                        AcceptsReturn="True"
                        AcceptsTab="True"
                        VerticalScrollBarVisibility="Auto"
                        HorizontalScrollBarVisibility="Auto"
                        KeyDown="ZoomTextEditor_KeyDown"
                        TextChanged="ZoomTextEditor_TextChanged">
                <RichTextBox.Resources>
                    <Style TargetType="Paragraph">
                        <Setter Property="TextAlignment" Value="Center"/>
                    </Style>
                </RichTextBox.Resources>
            </RichTextBox>
        </Canvas>
    </Grid>
</Window>
